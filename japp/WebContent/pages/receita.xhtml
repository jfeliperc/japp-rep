<ui:composition template="../templates/t_base.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:a4j="http://richfaces.org/a4j" 
    xmlns:rich="http://richfaces.org/rich">

    <ui:define name="conteudo">
    	<h:form id="frmReceita">
	    	<rich:panel header="Cadastro de Receitas" style="width:99%; height: 95%; ">
	    		<table><tr><td width="1300px">
		      	<div>
			      	<rich:panel header="Receita" style="width:99%; height: 95%; ">
				      	<h:panelGroup id="botoesPanel" layout="block">		      			
		      				<table><tr><td width="20px">
		      				<h:commandLink action="#{receitaMb.limpar()}" value="" ><h:graphicImage value="/css/img/limpar.png" width="20px" height="20px" /></h:commandLink>
		      				</td><td width="20px">
		      				<h:commandLink action="#{receitaMb.buscar()}" value="" ><h:graphicImage value="/css/img/buscar.png" width="20px" height="20px" /></h:commandLink>	
		      				</td><td width="20px">
		      				<h:commandLink action="#{receitaMb.salvar()}" value="" ><h:graphicImage value="/css/img/salvar.png" width="20px" height="20px" /></h:commandLink>      				
		      				</td></tr></table>		      				
			      		</h:panelGroup>
				      	<h:panelGroup id="messagePanel" layout="block">
		                	<h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
		                	<hr/>
			            </h:panelGroup>
				      	<h:panelGrid columns="2" styleClass="gridForm">
		                    <h:outputLabel value="id" for="id" />
		                    <h:inputText id="id" value="#{receitaMb.receita.id}" title="EmpresaTitle_id}" required="false" />
		                    <h:outputLabel value="Título da Receita" for="razaoSocial" />
		                    <h:inputText id="titReceita" value="#{receitaMb.receita.descricao}" title="Título" required="true" size="100"/>
		                    <h:outputLabel value="Resumo" for="resumo" />
		                    <h:inputText id="resumo" value="#{receitaMb.receita.resumo}" title="Resumo" size="150"/>	                    
		                </h:panelGrid>
		                <hr/>
		                <rich:dataTable value="#{receitaMb.listReceita}" var="us" style="width:100%" id="tbGrupos">
			    			<rich:column>
			    				<f:facet name="header">id</f:facet>
			    				<h:outputText value="#{us.id}" />
			    			</rich:column>
			    			<rich:column>
			    				<f:facet name="header">Título</f:facet>
			    				<h:outputText value="#{us.descricao}" />
			    			</rich:column>
			    			<rich:column>
			    				<f:facet name="header">Resumo</f:facet>
			    				<h:outputText value="#{us.descricao}" />
			    			</rich:column>
			    			<rich:column>
			    				<f:facet name="header">Ação</f:facet>
			    				<center><h:commandLink action="#{receitaMb.editar(us)}" value="" title="Editar dados deste registro"><h:graphicImage value="/css/img/edit.png" width="20px" height="20px" /></h:commandLink></center>
			    			</rich:column>
			    		</rich:dataTable>                	
						<hr/>
					</rich:panel>	
					<hr/>
					<rich:panel header="Detalhe" style="width:99%; height: 95%; ">
						<h:panelGroup id="botoesPanelDetalhe" layout="block">		      			
		      				<table><tr><td width="20px">
		      				<h:commandLink action="#{receitaMb.limparDetalhe()}" value="" ><h:graphicImage value="/css/img/limpar.png" width="20px" height="20px" /></h:commandLink>
		      				</td><td width="20px">
		      				<h:commandLink action="#{receitaMb.salvarDetalhe()}" value="" ><h:graphicImage value="/css/img/salvar.png" width="20px" height="20px" /></h:commandLink>      				
		      				</td></tr></table>		      				
			      		</h:panelGroup>
						<table>
							<tr><td valign="top" width="50%">					
								<h:panelGroup style="width:50%">
									<fieldset><legend>Ingredientes</legend>
										<h:panelGrid columns="2" styleClass="gridForm">
						                    <h:outputLabel value="Produto" for="idpro" />
						                    <h:inputText id="idpro" value="#{receitaMb.receitaProduto.produtoId}" title="Produto" required="false" />
						                    <h:outputLabel value="Quantidade" for="qtd" />
						                    <h:inputText id="qtd" value="#{receitaMb.receitaProduto.quantidade}" title="Quatidade" required="true" size="30"/>
						                    <h:outputLabel value="Obs.:" for="obsReceita" />
						                    <h:inputText id="obsReceita" value="#{receitaMb.receitaProduto.observacao}" title="Observação" size="90"/>	                    
						                </h:panelGrid>
										<rich:dataTable value="#{tipoGrupoProdutoMb.listGrupoProduto}" var="us" style="width:100%" id="tbIngredientes">
							    			<rich:column>
							    				<f:facet name="header">id</f:facet>
							    				<h:outputText value="#{us.id}" />
							    			</rich:column>
							    			<rich:column>
							    				<f:facet name="header">Produto</f:facet>
							    				<h:outputText value="#{us.nome}" />
							    			</rich:column>
							    			<rich:column>
							    				<f:facet name="header">Quantidade</f:facet>
							    				<h:outputText value="#{us.descricao}" />
							    			</rich:column>					    			
							    			<rich:column>
							    				<f:facet name="header">Ação</f:facet>
							    				<center><h:commandLink action="#{receitaMb.editar(us)}" value="" title="Editar dados deste registro"><h:graphicImage value="/css/img/edit.png" width="20px" height="20px" /></h:commandLink></center>
							    			</rich:column>
							    		</rich:dataTable>
						    		</fieldset>
								</h:panelGroup>
							</td><td valign="top" width="50%">	
								<h:panelGroup style="width:50%">
									<fieldset><legend>Descrição</legend>
										<h:inputTextarea value="" rows="18" cols="110" />
									</fieldset>
								</h:panelGroup>
							</td></tr>
						</table>
						<hr/>
						<h:panelGrid columns="1" styleClass="gridForm">
		                    <h:outputLabel value="Serviço relacionado" for="selServico" />
		                    <h:panelGroup id="selServico" layout="block">
			                    <h:selectOneMenu id="tipoProdutoId" value="#{receitaMb.receita.servicoId}" title="Serviço" 
			                    	required="false" requiredMessage="Campo Serviço é obrigatório" style="width:250px">
			                        <f:selectItems value="#{receitaMb.listServico}" var="tp" itemLabel="#{tp.descricao}" itemValue="#{tp.id}"/>
			                    </h:selectOneMenu>		                    
		                    </h:panelGroup>                  
		                </h:panelGrid>
		                <hr/>
					</rich:panel>
				</div>
				</td></tr></table>	
		    </rich:panel>
		</h:form>
    </ui:define>
    
</ui:composition>


    
				