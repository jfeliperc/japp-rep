<ui:composition template="../templates/t_base.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:a4j="http://richfaces.org/a4j" 
    xmlns:rich="http://richfaces.org/rich">

    <ui:define name="conteudo">
    	<h:form id="frmReceita">
	    	<rich:panel header="Cadastro de Receitas" style="width:99%; height: 95%; ">
	    		<table><tr><td width="1300px">
		      	<div>
		      		
		      		<nav class="navbar navbar-default" style="min-height: 30px !important;">
		  				<div class="container-fluid">		    
		      				<span class="btn-group navbar-left">
					      		<h:panelGroup id="botoesPanel2" layout="block">		      			
				      				<table><tr><td width="20px">
				      				<h:commandLink action="#{receitaMb.limpar()}" value="" ><h:graphicImage value="/css/img/limpar.png" width="20px" height="20px" /></h:commandLink>
				      				</td><td width="20px">
				      				<h:commandLink action="#{receitaMb.buscar()}" value="" ><h:graphicImage value="/css/img/buscar.png" width="20px" height="20px" /></h:commandLink>	
				      				</td><td width="20px">
				      				<h:commandLink action="#{receitaMb.salvar()}" value="" ><h:graphicImage value="/css/img/salvar.png" width="20px" height="20px" /></h:commandLink>      				
				      				</td></tr></table>		      				
					      		</h:panelGroup>
				      		</span>
				      		
				      		<span class="btn-group navbar-right">
				      			<span class="btn-group">
									<h:commandLink styleClass="btn btn-link" action="#{receitaMb.irCadastroTipoReceita()}" value="Tipo Receita" />
								</span>
				      		</span>
				      	</div>
				    </nav>	
		      		
		      	
			      	<rich:panel header="Receita" style="width:99%; height: 95%; ">
				      	
				      	<h:panelGroup id="messagePanel" layout="block">
		                	<h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
		                	<hr/>
			            </h:panelGroup>
				      	<h:panelGrid columns="2" styleClass="gridForm">
		                    <h:outputLabel value="id" for="id" />
		                    <h:inputText id="id" value="#{receitaMb.receita.id}" title="EmpresaTitle_id}"/>
		                    <h:outputLabel value="Título da Receita" for="razaoSocial" />
		                    <h:inputText id="titReceita" value="#{receitaMb.receita.descricao}" title="Título" size="100"/>
		                    <h:outputLabel value="Resumo" for="resumo" />
		                    <h:inputText id="resumo" value="#{receitaMb.receita.resumo}" title="Resumo" size="150"/>
		                </h:panelGrid>
		                
	                    <h:panelGrid columns="6" styleClass="gridForm">
	                    	<h:outputLabel value="Tipo de Receita" for="tipoReceita" />
	                    	<h:panelGroup id="seltipoReceita" layout="block">
			                    <h:selectOneMenu id="tipoProdutoId" value="#{receitaMb.tipoReceitaAux.id}" title="Tipo Receita" 
			                    	required="false" requiredMessage="Campo Tipo Receita é obrigatório" style="width:250px">
			                        <f:selectItems value="#{receitaMb.itemsTipoReceita}" var="tp" itemLabel="#{tp.descricao}" itemValue="#{tp.id}"/>
			                    </h:selectOneMenu>		                    
		                    </h:panelGroup>
		                    
		                    <h:outputLabel value="Serviço relacionado" for="selServico" />
		                    <h:panelGroup id="selServico" layout="block">
			                    <h:selectOneMenu id="somServico" value="#{receitaMb.servicoAux.id}" title="Serviço" 
			                    	required="false" requiredMessage="Campo Serviço é obrigatório" style="width:250px">
			                        <f:selectItems value="#{receitaMb.listServico}" var="tp" itemLabel="#{tp.descricao}" itemValue="#{tp.id}"/>
			                    </h:selectOneMenu>		                    
		                    </h:panelGroup> 
		                    
		                    <h:outputLabel value="Calorias" for="caloriasRec" />
						    <h:inputText id="caloriasRec" value="#{receitaMb.receitaProduto.quantidade}" title="Calorias da receita" disabled="true" size="25"/>                 
		                </h:panelGrid>
		                <hr/>
		                <rich:dataTable value="#{receitaMb.listReceita}" var="us" style="width:100%" id="tbGrupos">
			    			<rich:column>
			    				<f:facet name="header">id</f:facet>
			    				<h:outputText value="#{us.id}" />
			    			</rich:column>
			    			<rich:column>
			    				<f:facet name="header">Título</f:facet>
			    				<h:outputText value="#{us.descricao}" />
			    			</rich:column>
			    			<rich:column>
			    				<f:facet name="header">Resumo</f:facet>
			    				<h:outputText value="#{us.descricao}" />
			    			</rich:column>
			    			<rich:column>
			    				<f:facet name="header">Ação</f:facet>
			    				<center><h:commandLink action="#{receitaMb.editar(us)}" value="" title="Editar dados deste registro"><h:graphicImage value="/css/img/edit.png" width="20px" height="20px" /></h:commandLink></center>
			    			</rich:column>
			    		</rich:dataTable>                	
						<hr/>
					</rich:panel>	
					<hr/>
					<rich:panel header="Detalhe" style="width:99%; height: 95%; ">
						<h:panelGroup id="botoesPanelDetalhe" layout="block">		      			
		      				<table><tr><td width="20px">
		      				<h:commandLink action="#{receitaMb.limparDetalhe()}" value="" ><h:graphicImage value="/css/img/limpar.png" width="20px" height="20px" /></h:commandLink>
		      				</td><td width="20px">
		      				<h:commandLink action="#{receitaMb.salvarDetalhe()}" value="" ><h:graphicImage value="/css/img/salvar.png" width="20px" height="20px" /></h:commandLink>      				
		      				</td></tr></table>		      				
			      		</h:panelGroup>
									
								<h:panelGroup style="width:99%;">
									<fieldset><legend>Ingredientes</legend>
										<h:panelGrid columns="6" styleClass="gridForm">
											<h:outputLabel value="Tipo Produto" for="selTipoProd" />
						                    <h:panelGroup id="selTipoProd" layout="block">
							                    <h:selectOneMenu id="idTipPro" value="#{receitaMb.tipoProdutoAux.id}" title="Tipo Produto" style="width:250px">
							                        <f:selectItems value="#{receitaMb.itemsTipoProduto}" var="tp" itemLabel="#{tp.descricao}" itemValue="#{tp.id}"/>
							                    </h:selectOneMenu>		                    
						                    </h:panelGroup>	
						                    <h:outputLabel value="Grupo Produto" for="selGrpProd" />
						                    <h:panelGroup id="selGrpProd" layout="block">
							                    <h:selectOneMenu id="idGrpPro" value="#{receitaMb.grupoProdutoAux.id}" title="Grupo Produto" style="width:250px">
							                        <f:selectItems value="#{receitaMb.itemsGrupoProduto}" var="tp" itemLabel="#{tp.descricao}" itemValue="#{tp.id}"/>
							                    </h:selectOneMenu>		                    
						                    </h:panelGroup>
						                    <h:panelGroup></h:panelGroup>
						                    <h:panelGroup></h:panelGroup>	
										</h:panelGrid>
										<hr/>
										<h:panelGrid columns="4" styleClass="gridForm">
						                    <h:outputLabel value="Produto" for="idpro" />
						                    <h:panelGroup id="selProd" layout="block">
							                    <h:selectOneMenu id="idpro" value="#{receitaMb.produto.id}" title="Produto" 
							                    	required="false" requiredMessage="Campo Produto é obrigatório" style="width:250px">
							                        <f:selectItems value="#{receitaMb.listProduto}" var="tp" itemLabel="#{tp.descricao}" itemValue="#{tp.id}"/>
							                    </h:selectOneMenu>		                    
						                    </h:panelGroup>						                    
						                    <h:panelGroup></h:panelGroup>
						                    <h:panelGroup></h:panelGroup>
						                </h:panelGrid>
						                <h:panelGrid columns="6" styleClass="gridForm">   
						                    <h:outputLabel value="Comensal" for="qtd" />
						                    <h:inputText id="qtd" value="#{receitaMb.receitaProduto.comensal}" size="25"/>
						                    <h:outputLabel value="Percapta" for="percap" />
						                    <h:inputText id="percap" value="#{receitaMb.receitaProduto.percapta}" size="25"/>
						                    <h:panelGroup></h:panelGroup><h:panelGroup></h:panelGroup>
						                    <h:outputLabel value="Total" for="total" />
						                    <h:inputText id="total" value="#{receitaMb.receitaProduto.total}" size="25"/>
						                    <h:outputLabel value="Custo" for="custo" />
						                    <h:inputText id="custo" value="#{receitaMb.receitaProduto.custo}" size="25"/>
						                    <h:outputLabel value="Calorias" for="calorias" />
						                    <h:inputText id="calorias" value="#{receitaMb.receitaProduto.calorias}" size="25"/>
						                </h:panelGrid>
						                <h:panelGrid columns="2" styleClass="gridForm">     
						                    <h:outputLabel value="Obs.:" for="obsReceita" />
						                    <h:inputText id="obsReceita" value="#{receitaMb.receitaProduto.observacao}" title="Observação" size="150"/>						                                        
						                </h:panelGrid>						                
										<rich:dataTable value="#{tipoGrupoProdutoMb.listGrupoProduto}" var="us" style="width:100%" id="tbIngredientes" >
							    			<rich:column>
							    				<f:facet name="header">id</f:facet>
							    				<h:outputText value="#{us.id}" />
							    			</rich:column>
							    			<rich:column>
							    				<f:facet name="header">Produto</f:facet>
							    				<h:outputText value="#{us.nome}" />
							    			</rich:column>
							    			<rich:column>
							    				<f:facet name="header">Quantidade</f:facet>
							    				<h:outputText value="#{us.descricao}" />
							    			</rich:column>					    			
							    			<rich:column>
							    				<f:facet name="header">Ação</f:facet>
							    				<center><h:commandLink action="#{receitaMb.editarProduto(us)}" value="" title="Editar dados deste registro">
							    					<h:graphicImage value="/css/img/edit.png" width="20px" height="20px" /></h:commandLink></center>
							    			</rich:column>
							    		</rich:dataTable>
						    		</fieldset>
								</h:panelGroup>
							
								<h:panelGroup style="width:99%">
									<fieldset><legend>Descrição</legend>
										<h:inputTextarea value="#{receitaMb.receita.descricao}" rows="13" cols="200" />
									</fieldset>
								</h:panelGroup>
							
						<hr/>
						
					</rich:panel>
				</div>
				</td></tr></table>	
		    </rich:panel>
		</h:form>
    </ui:define>
    
</ui:composition>


    
				