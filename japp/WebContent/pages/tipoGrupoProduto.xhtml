<ui:composition template="../templates/t_base.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

    <ui:define name="conteudo">
    	<h:form>
	    	<p:panel header="Cadastro de tipos e grupos de produtos" style="width:99%; height: 95%; ">
		      	<table><tr><td width="1300px">
		      	<div style="padding-left: 10px">		      	
			      	
			      	<nav class="navbar navbar-default" style="min-height: 30px !important;">
		  				<div class="container-fluid">
				      		<span class="btn-group navbar-right">
				      			<span class="btn-group">
									<h:commandLink styleClass="btn btn-link" action="produto" value="Cadastro de Produto" />
								</span>
				      		</span>
				      	</div>
				    </nav>		
			      	
			      	<h:panelGroup id="messagePanel" layout="block">
	                	<h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>	                	
		            </h:panelGroup>
			      	<p:tabView>
			      		<p:tab title="Grupo de Produtos">
			      			<h:panelGroup id="botoesPanel" layout="block">		      			
			      				<table><tr><td width="20px">
			      				<h:commandLink action="#{tipoGrupoProdutoMb.limparGrupoProduto()}" value="" ><h:graphicImage value="/css/img/limpar.png" width="20px" height="20px" /></h:commandLink>
			      				</td><td width="20px">
			      				<h:commandLink action="#{tipoGrupoProdutoMb.buscarGrupoProduto()}" value="" ><h:graphicImage value="/css/img/buscar.png" width="20px" height="20px" /></h:commandLink>
			      				</td><td width="20px">
			      				<h:commandLink action="#{tipoGrupoProdutoMb.salvarGrupoProduto()}" value="" ><h:graphicImage value="/css/img/salvar.png" width="20px" height="20px" /></h:commandLink>
			      				</td><td width="20px">
			      				<h:commandLink action="#{tipoGrupoProdutoMb.excluirGrupoProduto()}" value="" ><h:graphicImage value="/css/img/excluir.png" width="20px" height="20px" /></h:commandLink>
			      				</td></tr></table>		      				
				      		</h:panelGroup>
					   	
					      	<h:panelGrid columns="2" styleClass="gridForm" cellspacing="5px" cellpadding="5">
			                    <h:outputLabel value="Id" for="id" />
			                    <h:inputText id="id" value="#{tipoGrupoProdutoMb.grupoProduto.id}" title="#{bundle.ProdutoTitle_id}" required="false"/>
			                    <h:outputLabel value="Nome" for="nome" />
			                    <h:inputText id="nome" value="#{tipoGrupoProdutoMb.grupoProduto.nome}" title="#{bundle.ProdutoTitle_nome}" required="false" size="100"/>
			                    <h:outputLabel value="Descrição" for="descricao" />
			                    <h:inputText id="descricao" value="#{tipoGrupoProdutoMb.grupoProduto.descricao}" title="#{bundle.ProdutoTitle_nome}" required="false" size="100"/>
			                    <h:outputLabel value="Grupo-Pai" for="grupoPai" />			                    
			                    <h:selectOneMenu id="grupoPai" value="#{tipoGrupoProdutoMb.grupoProduto.grupoPai}" title="Selecione um grupo-pai" style="width:200px">
			                        <f:selectItem itemLabel=" ---- " itemValue="0"/>
			                        <f:selectItems value="#{tipoGrupoProdutoMb.listGrupoProdutoPai}" var="grp" itemValue="#{grp.id}" itemLabel="#{grp.nome}" />
			                    </h:selectOneMenu>
			                </h:panelGrid>
			                <br/>
							<p:dataTable value="#{tipoGrupoProdutoMb.listGrupoProduto}" var="us" style="width:100%" id="tbGrupos">
				    			<p:column>
				    				<f:facet name="header">id</f:facet>
				    				<h:outputText value="#{us.id}" />
				    			</p:column>
				    			<p:column>
				    				<f:facet name="header">Nome</f:facet>
				    				<h:outputText value="#{us.nome}" />
				    			</p:column>
				    			<p:column>
				    				<f:facet name="header">Descrição</f:facet>
				    				<h:outputText value="#{us.descricao}" />
				    			</p:column>
				    			<p:column>
				    				<f:facet name="header">Sub-Grupos</f:facet>
				    				<h:outputText value="#{us.descricao}" />
				    			</p:column>
				    			<p:column>
				    				<f:facet name="header">Ação</f:facet>
				    				<center><h:commandLink action="#{tipoGrupoProdutoMb.editarGrupoProduto(us)}" value="" title="Editar dados deste registro"><h:graphicImage value="/css/img/edit.png" width="20px" height="20px" /></h:commandLink></center>
				    			</p:column>
				    		</p:dataTable>                	
							<br/><hr/>
			      		</p:tab>
			      		
			      		<p:tab title="Tipo de Produtos">
			      			<h:panelGroup id="botoesPanel2" layout="block">		      			
			      				<table><tr><td width="20px">
			      				<h:commandLink action="#{tipoGrupoProdutoMb.limparTipoProduto()}" value="" ><h:graphicImage value="/css/img/limpar.png" width="20px" height="20px" /></h:commandLink>
			      				</td><td width="20px">
			      				<h:commandLink action="#{tipoGrupoProdutoMb.buscarTipoProduto()}" value="" ><h:graphicImage value="/css/img/buscar.png" width="20px" height="20px" /></h:commandLink>
			      				</td><td width="20px">
			      				<h:commandLink action="#{tipoGrupoProdutoMb.salvarTipoProduto()}" value="" ><h:graphicImage value="/css/img/salvar.png" width="20px" height="20px" /></h:commandLink>
			      				</td><td width="20px">
			      				<h:commandLink action="#{tipoGrupoProdutoMb.excluirTipoProduto()}" value="" ><h:graphicImage value="/css/img/excluir.png" width="20px" height="20px" /></h:commandLink>
			      				</td></tr></table>		      				
				      		</h:panelGroup>
			            	
					      	<h:panelGrid columns="2" styleClass="gridForm" cellspacing="5px" cellpadding="5">
			                    <h:outputLabel value="Id" for="id" />
			                    <h:inputText id="idtp" value="#{tipoGrupoProdutoMb.tipoProduto.id}" title="#{bundle.ProdutoTitle_id}" required="false"/>
			                    <h:outputLabel value="Nome" for="nome" />
			                    <h:inputText id="nometp" value="#{tipoGrupoProdutoMb.tipoProduto.nome}" title="#{bundle.ProdutoTitle_nome}" required="false" size="100"/>
			                    <h:outputLabel value="Descrição" for="descricao" />
			                    <h:inputText id="descricaotp" value="#{tipoGrupoProdutoMb.tipoProduto.descricao}" title="#{bundle.ProdutoTitle_nome}" required="false" size="100"/>			                    
			                </h:panelGrid>
			                <br/>
							<p:dataTable value="#{tipoGrupoProdutoMb.listTipoProduto}" var="us" style="width:100%" id="tbTipo">
				    			<p:column>
				    				<f:facet name="header">id</f:facet>
				    				<h:outputText value="#{us.id}" />
				    			</p:column>
				    			<p:column>
				    				<f:facet name="header">Nome</f:facet>
				    				<h:outputText value="#{us.nome}" />
				    			</p:column>
				    			<p:column>
				    				<f:facet name="header">Descrição</f:facet>
				    				<h:outputText value="#{us.descricao}" />
				    			</p:column>
				    			<p:column>
				    				<f:facet name="header">Ação</f:facet>
				    				<center><h:commandLink action="#{tipoGrupoProdutoMb.editarTipoProduto(us)}" value="" title="Editar dados deste registro"><h:graphicImage value="/css/img/edit.png" width="20px" height="20px" /></h:commandLink></center>
				    			</p:column>
				    		</p:dataTable>       
												
							<br/><hr/>
			      		</p:tab>
			      	</p:tabView>
			      	
				</div>	
				</td></tr></table>
		    </p:panel>
	    </h:form>
    </ui:define>
    
</ui:composition>


    
