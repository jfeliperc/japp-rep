<ui:composition template="../templates/t_base.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:a4j="http://richfaces.org/a4j" 
    xmlns:rich="http://richfaces.org/rich">

    <ui:define name="conteudo">
    	<h:form id="frmFornecedor">
	    	<rich:panel header="Cadastro de fornecedores" style="width:99%; height: 95%; " rendered="#{!fornecedorMb.mostrarLista}">
		      	<div>
			      			      		
		      		<nav class="navbar navbar-default" style="min-height: 30px !important;">
		  				<div class="container-fluid">		    
		      				<span class="btn-group navbar-left">
					      		<h:panelGroup id="botoesPanel" layout="block">		      			
				      				<table><tr><td width="20px">
				      				<h:commandLink action="#{fornecedorMb.limpar()}" value="" ><h:graphicImage value="/css/img/limpar.png" width="20px" height="20px" /></h:commandLink>
				      				</td><td width="20px">
				      				<h:commandLink action="#{fornecedorMb.buscar()}" value="" ><h:graphicImage value="/css/img/buscar.png" width="20px" height="20px" /></h:commandLink>
				      				</td><td width="20px">
				      				<h:commandLink action="#{fornecedorMb.salvar()}" value="" ><h:graphicImage value="/css/img/salvar.png" width="20px" height="20px" /></h:commandLink>
				      				</td><td width="20px">
				      				<h:commandLink action="#{fornecedorMb.excluir()}" value="" ><h:graphicImage value="/css/img/excluir.png" width="20px" height="20px" /></h:commandLink>				      				
				      				</td></tr></table>		      				
					      		</h:panelGroup>
				      		</span>
				      		
				      		<span class="btn-group navbar-right">
				      			<span class="btn-group">
									<h:commandLink styleClass="btn btn-link" action="#{fornecedorMb.alternaMostraLista()}" value="Ver Lista" />
								</span>
				      		</span>
				      	</div>
				    </nav>	
		      		
		      		
			      	<h:panelGroup id="messagePanel" layout="block">
	                	<h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
	                	<hr/>
		            </h:panelGroup>
			      	<h:panelGrid columns="4" styleClass="gridForm" width="90%">
	                    <h:outputLabel value="id" for="id" />
	                    <h:inputText id="id" value="#{fornecedorMb.fornecedor.id}" title="Id" />
	                    <h:panelGroup></h:panelGroup>
	                    <h:panelGroup></h:panelGroup>
	                    	                    
	                    <h:outputLabel value="Razão Social" for="razaoSocial" />
	                    <h:inputText id="razaoSocial" value="#{fornecedorMb.fornecedor.razaoSocial}" title="razaoSocial" size="100"/>
	                    
	                    <h:outputLabel value="Nome Fantasia" for="nomeFantasia" />
	                    <h:inputText id="nomeFantasia" value="#{fornecedorMb.fornecedor.nomeFantasia}" title="nomeFantasia" size="90"/>
	                    
	                    <h:outputLabel value="Cnpj" for="cnpj" />
	                    <h:inputText id="cnpj" value="#{fornecedorMb.fornecedor.cnpj}" title="cnpj" size="70" />
	                    
	                    <h:outputLabel value="Inscricao Est." for="inscricaoEst" />
	                    <h:inputText id="inscricaoEst" value="#{fornecedorMb.fornecedor.inscricaoEst}" title="inscricaoEst" size="50" />
	                    
	                    <h:outputLabel value="Inscricao Mun." for="inscricaoMun" />
	                    <h:inputText id="inscricaoMun" value="#{fornecedorMb.fornecedor.inscricaoMun}" title="inscricaoMun" size="50" />
	                    
	                    <h:outputLabel value="empresa" for="empresa" />
	                    <h:selectOneMenu id="empresa" value="#{fornecedorMb.fornecedor.empresa}" converter="genConverter" title="Empresa" style="width:200px">
	                        <f:selectItem itemValue="#{null}" itemLabel=""/>
	                        <f:selectItems value="#{fornecedorMb.empresas}" var="emp" itemValue="#{emp}" itemLabel="#{emp.nomeFantasia}"/>
	                    </h:selectOneMenu>
	                    
	                    <h:outputLabel value="Status" for="ativo" />
	                    <h:selectOneMenu value="#{fornecedorMb.fornecedor.ativo}" style="width:150px">
							<f:selectItem itemLabel="Ativo" itemValue="1"/>
							<f:selectItem itemLabel="Inativo" itemValue="0"/>
						</h:selectOneMenu>						
						
	                    <h:outputLabel value="Observacao" for="observacao" />
	                    <h:inputText id="observacao" value="#{fornecedorMb.fornecedor.observacao}" title="Observação" size="110" />
	                    
	                    <h:outputLabel value="Data inclusão" for="datainclusao" />
	                    <h:outputLabel id="datainclusao" value="#{fornecedorMb.fornecedor.datainclusao}" title="Data inclusão" >
	                        <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
	                    </h:outputLabel>	                    
	                    
	                    <h:outputLabel value="Data alteração" for="dataalteracao" />
	                    <h:outputLabel id="dataalteracao" value="#{fornecedorMb.fornecedor.dataalteracao}" title="Data alteração" >
	                        <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
	                    </h:outputLabel>
	                    
	                </h:panelGrid>
	                
	                <br/><br/><hr/>
					
				</div>	
		    </rich:panel>
		    
		    <rich:panel header="Lista de fornecedores" style="width:100%; height: 95%; " rendered="#{fornecedorMb.mostrarLista}">
		    	<table><tr><td width="1300px">
		    	<div style="padding-left: 10px">
			      	<nav class="navbar navbar-default" style="min-height: 30px !important;">
		  				<div class="container-fluid">
				      		<span class="btn-group navbar-right">
				      			<span class="btn-group">
									<h:commandLink styleClass="btn btn-link" action="#{fornecedorMb.alternaMostraLista()}" value="Ver detalhe" />
								</span>				      			
				      		</span>
				      	</div>
				    </nav>	
				</div>    
		    	<rich:dataTable value="#{fornecedorMb.listFornecedor}" var="us" style="width:100%" id="tbFornecedores">
		    			<rich:column>
		    				<f:facet name="header">Nome</f:facet>
		    			</rich:column>
		    			<rich:column>
		    				<f:facet name="header">Razão Social</f:facet>
		    			</rich:column>
		    			<rich:column>
		    				<f:facet name="header">CNPJ</f:facet>
		    			</rich:column>
		    			<rich:column>
		    				<f:facet name="header">Ação</f:facet>		    				
		    			</rich:column>
		    	</rich:dataTable>
		    	</td></tr></table>
		    </rich:panel>
		    
		    
		</h:form>
    </ui:define>
    
</ui:composition>


    
